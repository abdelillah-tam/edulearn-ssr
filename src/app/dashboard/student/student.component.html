<div class="flex grow flex-col gap-8 px-4 py-8 md:px-8">
  <section class="flex flex-col">
    <p class="text-xl font-bold">Welcome, {{ user()?.fullname }}</p>
    <p class="text-gray-500">Continue your learning journey.</p>
  </section>
  <section
    class="flex grow flex-col-reverse justify-between gap-4 md:flex-row md:items-start"
  >
    <div
      class="flex h-full grow basis-5/7 flex-col gap-4 rounded-xl border border-gray-300 bg-white p-5"
    >
      <p class="text-lg font-bold">Continue Learning</p>

      @if (isLoading) {
        <div class="flex grow items-center justify-center py-4">
          <mat-spinner class="enroll-loading" [diameter]="40"></mat-spinner>
        </div>
      } @else if (courses.length) {
        <div class="flex flex-col gap-4">
          @for (item of courses; track $index) {
            <ul class="flex overflow-hidden rounded-xl border border-gray-300">
              <li class="basis-2/5 md:basis-2/8">
                <img
                  class="h-full w-full object-cover"
                  [src]="item.thumbnail"
                />
              </li>
              <li
                class="flex basis-3/5 flex-col items-start justify-between gap-8 p-8 md:basis-6/8"
              >
                <div class="flex flex-col gap-1">
                  <p class="text-lg">{{ item.title }}</p>
                  <p class="text-gray-500">by {{ item.instructor }}</p>
                </div>
                <button
                  class="bg-red-theme flex h-10 cursor-pointer items-center gap-4 rounded-xl px-6 py-3 font-bold text-white hover:bg-red-400"
                  (click)="educate(item.id)"
                >
                  <mat-icon
                    class="material-symbols-rounded"
                    fontIcon="play_circle"
                  ></mat-icon
                  >Continue
                </button>
              </li>
            </ul>
          }
        </div>
      } @else {
        <div class="flex grow items-center justify-center">
          <p class="grow text-center text-gray-500">
            You didn't enroll any course
          </p>
        </div>
      }
    </div>
    <div
      class="flex basis-2/7 flex-col gap-2 rounded-xl border border-gray-300 bg-white p-5"
    >
      <p>Enrolled Courses</p>
      @if (isLoading) {
        <div class="flex items-center justify-center py-4">
          <mat-spinner class="enroll-loading" [diameter]="40"></mat-spinner>
        </div>
      } @else {
        <p class="text-lg font-bold">{{ courses.length }}</p>
      }
    </div>
  </section>
</div>
